    // frontend/src/components/ExploitDBTable.jsx
    import React, { useState, useEffect } from 'react';
    import { supabase } from '../supabaseClient';
    import { Loader2, DatabaseZap } from 'lucide-react';
    
    const ExploitDBTable = () => {
      const [exploits, setExploits] = useState([]);
      const [loading, setLoading] = useState(true);
      const [error, setError] = useState(null);
    
      useEffect(() => {
        const fetchExploits = async () => {
          setLoading(true);
          setError(null);
    
          const { data, error } = await supabase
            .from('exploits')
            .select('*')
            .order('date', { ascending: false }) // Show latest exploits first
            .limit(20); // Limit to 20 results
    
          if (error) {
            console.error('Error fetching Exploit DB data:', error);
            setError(error.message);
          } else {
            setExploits(data);
          }
          setLoading(false);
        };
    
        fetchExploits();
      }, []); // Fetch only on component mount
    
      return (
        <div className="overflow-x-auto rounded-lg border border-gray-800">
          <table className="min-w-full divide-y divide-gray-800">
            <thead className="bg-gray-800/50">
              <tr>
                <th scope="col" className="px-6 py-3 text-left text-xs font-medium text-cyber-red uppercase tracking-wider">Date</th>
                <th scope="col" className="px-6 py-3 text-left text-xs font-medium text-cyber-red uppercase tracking-wider">Exploit Title</th>
                <th scope="col" className="px-6 py-3 text-left text-xs font-medium text-cyber-red uppercase tracking-wider">Type</th>
                <th scope="col" className="px-6 py-3 text-left text-xs font-medium text-cyber-red uppercase tracking-wider">Platform</th>
                <th scope="col" className="px-6 py-3 text-left text-xs font-medium text-cyber-red uppercase tracking-wider">Author</th>
              </tr>
            </thead>
            <tbody className="bg-cyber-card divide-y divide-gray-800">
              {loading && (
                <tr>
                  <td colSpan="5" className="px-6 py-10 text-center">
                    <div className="flex justify-center items-center text-cyber-red">
                      <Loader2 className="animate-spin h-6 w-6 mr-3" />
                      <span>FETCHING EXPLOIT.DB_DATA...</span>
                    </div>
                  </td>
                </tr>
              )}
              {!loading && error && (
                <tr>
                  <td colSpan="5" className="px-6 py-10 text-center">
                    <div className="text-cyber-red">
                      <DatabaseZap className="w-10 h-10 mx-auto mb-2" />
                      <span>ERROR: {error}</span>
                    </div>
                  </td>
                </tr>
              )}
              {!loading && !error && exploits.length === 0 && (
                <tr>
                  <td colSpan="5" className="px-6 py-10 text-center">
                    <div className="text-gray-500">
                      <DatabaseZap className="w-10 h-10 mx-auto mb-2" />
                      <span>NO EXPLOIT DATA FOUND_</span>
                    </div>
                  </td>
                </tr>
              )}
              {!loading && !error && exploits.map((exploit) => (
                <tr key={exploit.id} className="hover:bg-gray-800/50 transition-colors duration-150">
                  <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{new Date(exploit.date).toLocaleDateString()}</td>
                  <td className="px-6 py-4 whitespace-nowrap text-sm font-medium text-cyber-red">
                    <a href={exploit.url} target="_blank" rel="noopener noreferrer" className="hover:underline" title={exploit.title}>
                      {exploit.title.substring(0, 50)}...
                    </a>
                  </td>
                  <td className="px-6 py-4 whitespace-nowrap text-sm text-cyber-text">{exploit.type}</td>
                  <td className="px-6 py-4 whitespace-nowrap text-sm text-cyber-text">{exploit.platform}</td>
                  <td className="px-6 py-4 whitespace-nowrap text-sm text-cyber-text">{exploit.author}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      );
    };
    
    export default ExploitDBTable;
    

